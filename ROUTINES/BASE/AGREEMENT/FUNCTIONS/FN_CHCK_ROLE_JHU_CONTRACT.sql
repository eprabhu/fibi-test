-- `FN_CHCK_ROLE_JHU_CONTRACT`; 


CREATE FUNCTION `FN_CHCK_ROLE_JHU_CONTRACT`(AV_PERSON_ID VARCHAR(40)) RETURNS varchar(6) 
    DETERMINISTIC
BEGIN
DECLARE LI_FLAG INT;
SELECT COUNT(1) INTO LI_FLAG
FROM PERSON_ROLES T1
INNER JOIN ROLE T2 ON T2.ROLE_ID = T1.ROLE_ID
WHERE PERSON_ID = AV_PERSON_ID
AND T2.DESCRIPTION = 'JHU Contracts Team';
IF LI_FLAG > 0 THEN
		RETURN 'TRUE';
	ELSE
		RETURN 'FALSE';
END IF;
END

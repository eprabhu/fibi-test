
DROP TABLE IF EXISTS `proposal_attachments`;

CREATE TABLE `proposal_attachments` (
  `ATTACHMENT_ID` int(11) NOT NULL AUTO_INCREMENT,
  `PROPOSAL_ID` int(11) DEFAULT NULL,
  `PROPOSAL_NUMBER` varchar(20) DEFAULT NULL,
  `SEQUENCE_NUMBER` int(11) DEFAULT NULL,
  `ATTACHMNT_TYPE_CODE` int(11) DEFAULT NULL,
  `DESCRIPTION` varchar(200) DEFAULT NULL,
  `FILE_NAME` varchar(300) DEFAULT NULL,
  `MIME_TYPE` varchar(255) DEFAULT NULL,
  `NARRATIVE_STATUS_CODE` varchar(3) DEFAULT NULL,
  `VERSION_NUMBER` int(11) DEFAULT NULL,
  `FILE_DATA_ID` varchar(36) DEFAULT NULL,
  `DOCUMENT_STATUS_CODE` int(11) DEFAULT NULL,
  `DOCUMENT_ID` int(11) DEFAULT NULL,
  `UPDATE_TIMESTAMP` datetime DEFAULT NULL,
  `UPDATE_USER` varchar(60) DEFAULT NULL,
  PRIMARY KEY (`ATTACHMENT_ID`),
  KEY `PROP_ATTACHMENTS_FK2` (`ATTACHMNT_TYPE_CODE`),
  KEY `PROP_ATTACHMENTS_FK1` (`PROPOSAL_ID`),
  KEY `PROP_ATTACHMENTS_FK3` (`NARRATIVE_STATUS_CODE`),
  KEY `PROPOSAL_ATTACHMENTS_FK5` (`DOCUMENT_STATUS_CODE`),
  CONSTRAINT `PROPOSAL_ATTACHMENTS_FK5` FOREIGN KEY (`DOCUMENT_STATUS_CODE`) REFERENCES `document_status` (`DOCUMENT_STATUS_CODE`),
  CONSTRAINT `PROP_ATTACHMENTS_FK1` FOREIGN KEY (`PROPOSAL_ID`) REFERENCES `proposal` (`PROPOSAL_ID`),
  CONSTRAINT `PROP_ATTACHMENTS_FK2` FOREIGN KEY (`ATTACHMNT_TYPE_CODE`) REFERENCES `proposal_attach_type` (`ATTACHMNT_TYPE_CODE`),
  CONSTRAINT `PROP_ATTACHMENTS_FK3` FOREIGN KEY (`NARRATIVE_STATUS_CODE`) REFERENCES `narrative_status` (`NARRATIVE_STATUS_CODE`)
) ;

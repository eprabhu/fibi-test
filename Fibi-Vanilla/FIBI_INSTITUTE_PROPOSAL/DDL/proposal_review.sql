
DROP TABLE IF EXISTS `proposal_review`;

CREATE TABLE `proposal_review` (
  `REVIEW_ID` int(11) NOT NULL AUTO_INCREMENT,
  `ALT_REVIEWER_EMAIL` varchar(200) DEFAULT NULL,
  `ALT_REVIEWER_FULLNAME` varchar(90) DEFAULT NULL,
  `ALT_REVIEWER_PERSON_ID` varchar(90) DEFAULT NULL,
  `PI_REVIEW_DEADLINE_DATE` datetime(6) DEFAULT NULL,
  `REVIEW_DEADLINE_DATE` datetime(6) DEFAULT NULL,
  `REVIEW_END_DATE` datetime(6) DEFAULT NULL,
  `REVIEW_START_DATE` datetime(6) DEFAULT NULL,
  `REVIEW_STATUS_CODE` int(11) DEFAULT NULL,
  `REVIEW_TYPE_CODE` int(11) DEFAULT NULL,
  `REVIEWER_EMAIL` varchar(200) DEFAULT NULL,
  `REVIEWER_FULLNAME` varchar(90) DEFAULT NULL,
  `REVIEWER_PERSON_ID` varchar(90) DEFAULT NULL,
  `UPDATE_TIMESTAMP` datetime(6) DEFAULT NULL,
  `UPDATE_USER` varchar(60) DEFAULT NULL,
  `PROPOSAL_ID` int(11) NOT NULL,
  `ROLE_ID` int(11) DEFAULT NULL,
  `HAS_RANK` varchar(1) DEFAULT NULL,
  `HAS_ENDORSE` varchar(1) DEFAULT NULL,
  `IS_FINAL` varchar(1) DEFAULT NULL,
  `HAS_RECOMMENDATION` varchar(1) DEFAULT NULL,
  `HAS_QUESTION` varchar(1) DEFAULT NULL,
  `EVALUATION_STOP_CODE` int(11) DEFAULT NULL,
  `HAS_QUESTIONNAIRE` varchar(255) DEFAULT NULL,
  `COMPLETE_REVIEWER_EMAIL` varchar(200) DEFAULT NULL,
  `COMPLETE_REVIEWER_FULLNAME` varchar(90) DEFAULT NULL,
  `COMPLETE_REVIEWER_PERSON_ID` varchar(90) DEFAULT NULL,
  PRIMARY KEY (`REVIEW_ID`),
  KEY `PROPOSAL_REVIEW_FK3` (`PROPOSAL_ID`),
  KEY `PROPOSAL_REVIEW_FK2` (`REVIEW_STATUS_CODE`),
  KEY `PROPOSAL_REVIEW_FK1` (`REVIEW_TYPE_CODE`),
  KEY `PROPOSAL_REVIEW_FK5` (`ROLE_ID`),
  KEY `PROPOSAL_REVIEW_FK4` (`EVALUATION_STOP_CODE`),
  CONSTRAINT `PROPOSAL_REVIEW_FK1` FOREIGN KEY (`REVIEW_TYPE_CODE`) REFERENCES `review_type` (`REVIEW_TYPE_CODE`),
  CONSTRAINT `PROPOSAL_REVIEW_FK2` FOREIGN KEY (`REVIEW_STATUS_CODE`) REFERENCES `review_status` (`REVIEW_STATUS_CODE`),
  CONSTRAINT `PROPOSAL_REVIEW_FK3` FOREIGN KEY (`PROPOSAL_ID`) REFERENCES `eps_proposal` (`PROPOSAL_ID`),
  CONSTRAINT `PROPOSAL_REVIEW_FK4` FOREIGN KEY (`EVALUATION_STOP_CODE`) REFERENCES `eps_prop_evaluation_stop` (`EVALUATION_STOP_CODE`),
  CONSTRAINT `PROPOSAL_REVIEW_FK5` FOREIGN KEY (`ROLE_ID`) REFERENCES `role` (`ROLE_ID`),
  CONSTRAINT `PROPOSAL_REVIEW_ibfk_1` FOREIGN KEY (`ROLE_ID`) REFERENCES `role` (`ROLE_ID`)
) ;

INSERT INTO REPORT_TYPE_JOIN (`TYPE_JOIN_ID`,`TYPE_CODE`,`JOIN_QUERY`,`UPDATE_TIMESTAMP`,`UPDATE_USER`) VALUES (1,'5','INNER JOIN (\n\n		SELECT \n			A1.AWARD_ID,\n			A1.AWARD_NUMBER,\n			A1.ACCOUNT_NUMBER,\n			T3.BUDGET_CATEGORY_CODE,\n			A3.DESCRIPTION AS BUDGET_CATEGORY,\n			T3.INTERNAL_ORDER_CODE AS IO_CODE,\n			A4.DESCRIPTION AS COST_ELEMENT,\n			-- FN_GET_ORG_BUD_AMT_FOR_L2WBS(A1.AWARD_NUMBER, T3.INTERNAL_ORDER_CODE) AS ORIGINAL_AMOUNT,\n			 0 as ORIGINAL_AMOUNT,\n            -- T31.AMOUNT AS ORIGINAL_AMOUNT,\n			T3.LINE_ITEM_COST AS REVISED_AMOUNT,	\n			IFNULL(T4.TOTAL_EXPENSE_AMOUNT,0) AS EXPENDITURE_TO_DATE,\n			IFNULL(T4.COMMITTED_AMOUNT,0) AS COMMITTED_AMOUNT,\n			0 AS TOTAL_REVENUE_AMOUNT,	\n			IFNULL((T3.LINE_ITEM_COST),0)-IFNULL(T4.TOTAL_EXPENSE_AMOUNT,0) AS BALANCE,\n			IFNULL((T3.LINE_ITEM_COST),0)-(IFNULL(T4.TOTAL_EXPENSE_AMOUNT,0) + IFNULL(T4.COMMITTED_AMOUNT,0)) AS BALANCELESS_COMMITTED_AMOUNT,\n			IFNULL(ROUND((T4.TOTAL_EXPENSE_AMOUNT/(T3.LINE_ITEM_COST))*100,2),0) AS UTILIZATION_RATE,	\n			NULL AS FM_POSTING_DATE\n			\n		 FROM AWARD A1 \n         INNER JOIN AWARD_BUDGET_HEADER T1 ON A1.AWARD_ID = T1.AWARD_ID\n		 INNER JOIN AWARD_BUDGET_DETAIL T3 ON T3.BUDGET_HEADER_ID = T1.BUDGET_HEADER_ID\n         LEFT JOIN (   \n\n						select AWARD_NUMBER, INTERNAL_ORDER_CODE, SUM(ACTUAL_AMOUNT) as TOTAL_EXPENSE_AMOUNT , SUM(COMMITTED_AMOUNT) as COMMITTED_AMOUNT\n						from AWARD_EXPENSE_TRANS_AMT_RT\nCHILD  WHERE 1=1 <FILTER_CONDITION>  group by AWARD_NUMBER, INTERNAL_ORDER_CODE\n				   ) T4 ON T4.AWARD_NUMBER = A1.AWARD_NUMBER AND T4.INTERNAL_ORDER_CODE = T3.INTERNAL_ORDER_CODE\n		INNER JOIN BUDGET_CATEGORY A3 ON T3.BUDGET_CATEGORY_CODE = A3.BUDGET_CATEGORY_CODE\n		INNER JOIN COST_ELEMENT A4 ON T3.COST_ELEMENT = A4.COST_ELEMENT\n		WHERE A1.AWARD_SEQUENCE_STATUS = \'ACTIVE\'\n		AND T1.VERSION_NUMBER IN (SELECT MAX(AB1.VERSION_NUMBER) FROM AWARD_BUDGET_HEADER AB1 WHERE AB1.AWARD_ID = T1.AWARD_ID)\n\n\nUNION ALL\n\n		  SELECT \n			A1.AWARD_ID,\n			A1.AWARD_NUMBER,\n			A1.ACCOUNT_NUMBER,\n			\'GRT\' as BUDGET_CATEGORY_CODE,\n			\'Grant Revenue\' AS BUDGET_CATEGORY,\n			CHILD.INTERNAL_ORDER_CODE AS IO_CODE,\n			NULL AS COST_ELEMENT,\n			0 AS ORIGINAL_AMOUNT,\n			0 AS REVISED_AMOUNT,\n			0 AS EXPENDITURE_TO_DATE,\n			0 AS COMMITTED_AMOUNT,\n			IFNULL(SUM(CHILD.AMOUNT_IN_FMA_CURRENCY),0) AS TOTAL_REVENUE_AMOUNT,\n			0 AS BALANCE,\n			0 AS BALANCELESS_COMMITTED_AMOUNT,\n			0 AS UTILIZATION_RATE,\n			NULL AS FM_POSTING_DATE\n		 FROM AWARD A1 \n		 INNER JOIN AWARD_REVENUE_TRANSACTIONS CHILD ON CHILD.AWARD_NUMBER = A1.AWARD_NUMBER AND CHILD.ACTUAL_OR_COMMITTED_FLAG = \'R\'\n		 WHERE A1.AWARD_SEQUENCE_STATUS = \'ACTIVE\' \n<FILTER_CONDITION>\n		 GROUP BY CHILD.AWARD_NUMBER,CHILD.INTERNAL_ORDER_CODE \n		 \n )CHILD ON MASTER_DATA.AWARD_ID = CHILD.AWARD_ID AND MASTER_DATA.PERSON_ROLE_ID = 3\nLEFT OUTER JOIN AWARD_ORIGINAL_L2_AMT_RT T31 ON T31.INTERNAL_ORDER_CODE = CHILD.IO_CODE','2020-09-12 01:58:01','quickstart');
INSERT INTO REPORT_TYPE_JOIN (`TYPE_JOIN_ID`,`TYPE_CODE`,`JOIN_QUERY`,`UPDATE_TIMESTAMP`,`UPDATE_USER`) VALUES (2,'7','INNER JOIN (\n \n \n					  SELECT /*+ BNL(S5) */\n						 A1.AWARD_ID,\n						 A1.AWARD_NUMBER,\n						 A1.ACCOUNT_NUMBER,\n						 T3.BUDGET_CATEGORY_CODE,\n						 A3.DESCRIPTION AS BUDGET_CATEGORY,\n						A4.DESCRIPTION AS COST_ELEMENT,\n						 T3.INTERNAL_ORDER_CODE AS IO_CODE,\n						 IFNULL(S5.EXP_TO_DATE_BY_BUDGT_CATGRY,0) AS EXPENDITURE_TO_DATE,\n						 IFNULL(S5.COMMITTED_AMT_BY_BUDGT_CATGRY,0) AS COMMITTED_AMOUNT,\n						0 AS TOTAL_REVENUE_AMOUNT,\n						 IFNULL(S6.ORIGINAL_APPROVED_BUDGET,0) AS ORIGINAL_AMOUNT,\n						 IFNULL(S7.LATEST_APPROVED_BUDGET,0) AS REVISED_AMOUNT,\n						 IFNULL(S7.LATEST_APPROVED_BUDGET,0)-IFNULL(S5.EXP_TO_DATE_BY_BUDGT_CATGRY,0) AS BALANCE,   \n						IFNULL(S7.LATEST_APPROVED_BUDGET,0)-(IFNULL(S5.EXP_TO_DATE_BY_BUDGT_CATGRY,0)+IFNULL(S5.COMMITTED_AMT_BY_BUDGT_CATGRY,0)) AS BALANCELESS_COMMITTED_AMOUNT,\n						 IFNULL(ROUND((S5.EXP_TO_DATE_BY_BUDGT_CATGRY/S7.LATEST_APPROVED_BUDGET)*100,2),0) AS UTILIZATION_RATE,\n						 NULL AS FM_POSTING_DATE\n					 FROM AWARD A1 \n					 INNER JOIN AWARD_BUDGET_HEADER T1 ON A1.AWARD_ID = T1.AWARD_ID\n					 INNER JOIN AWARD_BUDGET_DETAIL T3 ON T3.BUDGET_HEADER_ID = T1.BUDGET_HEADER_ID\n					 INNER JOIN BUDGET_CATEGORY A3 ON T3.BUDGET_CATEGORY_CODE = A3.BUDGET_CATEGORY_CODE\n					 LEFT OUTER JOIN\n					 (\n					 \n						 select /*+ SUBQUERY(MATERIALIZATION) */ AWARD_NUMBER, BUDGET_CATEGORY_CODE, SUM(ACTUAL_AMOUNT) as EXP_TO_DATE_BY_BUDGT_CATGRY , SUM(COMMITTED_AMOUNT) as COMMITTED_AMT_BY_BUDGT_CATGRY\n						 from AWARD_EXPENSE_TRANS_AMT_RT CHILD\n					 WHERE 1=1 <FILTER_CONDITION>\n						 group by AWARD_NUMBER, BUDGET_CATEGORY_CODE\n					 \n					 )S5 ON A1.AWARD_NUMBER = S5.AWARD_NUMBER AND T3.BUDGET_CATEGORY_CODE = S5.BUDGET_CATEGORY_CODE\n\n					LEFT JOIN AWARD_ORG_APPROVED_BUDGET_RT S6 ON T1.AWARD_ID = S6.AWARD_ID AND T3.BUDGET_CATEGORY_CODE = S6.BUDGET_CATEGORY_CODE\n					INNER JOIN AWARD_LATEST_APROVED_BUDGET_RT S7 ON T1.AWARD_ID = S7.AWARD_ID AND T3.BUDGET_CATEGORY_CODE = S7.BUDGET_CATEGORY_CODE    \n					INNER JOIN COST_ELEMENT A4 ON T3.COST_ELEMENT = A4.COST_ELEMENT\n					WHERE A1.AWARD_SEQUENCE_STATUS = \'ACTIVE\'\n					AND T1.VERSION_NUMBER IN (SELECT MAX(AB1.VERSION_NUMBER) FROM AWARD_BUDGET_HEADER AB1 WHERE AB1.AWARD_ID = T1.AWARD_ID)\n					\n					\n		UNION ALL\n		\n		\n					  SELECT \n						A1.AWARD_ID,\n						A1.AWARD_NUMBER,\n						A1.ACCOUNT_NUMBER,\n						\'GRT\' as BUDGET_CATEGORY_CODE,\n						\'Grant Revenue\' AS BUDGET_CATEGORY,\n						null as COST_ELEMENT,\n						S2.INTERNAL_ORDER_CODE AS IO_CODE,\n						0 AS EXPENDITURE_TO_DATE,\n						0 AS COMMITTED_AMOUNT,\n						IFNULL(S2.REVENUE_AMOUNT,0) AS TOTAL_REVENUE_AMOUNT,\n						0 AS ORIGINAL_AMOUNT,\n						0 AS REVISED_AMOUNT,\n						0 AS BALANCE,   \n						0 AS BALANCELESS_COMMITTED_AMOUNT,\n						0 AS UTILIZATION_RATE,\n						NULL AS FM_POSTING_DATE\n					 FROM AWARD A1 \n					 INNER JOIN(SELECT\n									 CHILD.AWARD_NUMBER,\n									 CHILD.INTERNAL_ORDER_CODE,\n									 BUDGET_CATEGORY_CODE,\n									 SUM(CHILD.AMOUNT_IN_FMA_CURRENCY) AS REVENUE_AMOUNT\n									 FROM AWARD_REVENUE_TRANSACTIONS CHILD\n									 WHERE CHILD.ACTUAL_OR_COMMITTED_FLAG = \'R\'\n									<FILTER_CONDITION>\n									 GROUP BY CHILD.AWARD_NUMBER,BUDGET_CATEGORY_CODE\n									)S2 ON A1.AWARD_NUMBER = S2.AWARD_NUMBER\n					 WHERE A1.AWARD_SEQUENCE_STATUS = \'ACTIVE\'\n \n \n )CHILD ON MASTER_DATA.AWARD_ID = CHILD.AWARD_ID AND MASTER_DATA.PERSON_ROLE_ID = 3 ','2020-09-12 01:59:01','quickstart');
INSERT INTO REPORT_TYPE_JOIN (`TYPE_JOIN_ID`,`TYPE_CODE`,`JOIN_QUERY`,`UPDATE_TIMESTAMP`,`UPDATE_USER`) VALUES (3,'8','INNER JOIN ((SELECT A1.AWARD_ID, A1.AWARD_NUMBER, A1.ACCOUNT_NUMBER, \nT3.BUDGET_CATEGORY_CODE, A3.DESCRIPTION AS BUDGET_CATEGORY, T3.INTERNAL_ORDER_CODE AS IO_CODE, A4.DESCRIPTION \nAS COST_ELEMENT, CASE WHEN ACTUAL_OR_COMMITTED_FLAG = \'A\' THEN IFNULL(AMOUNT_IN_FMA_CURRENCY,0) ELSE 0 END AS \nEXPENDITURE_TO_DATE, CASE WHEN ACTUAL_OR_COMMITTED_FLAG = \'C\' THEN IFNULL(AMOUNT_IN_FMA_CURRENCY,0) ELSE 0 END AS COMMITED_AMOUNT, \n0 AS REVENUE_AMOUNT, DATE(CHILD.FM_POSTING_DATE) AS FM_POSTING_DATE, DATE(CHILD.DOCUMENT_DATE) AS DOCUMENT_DATE, CHILD.VENDOR_NAME, \nCHILD.VENDOR_CODE, CHILD.FISCAL_YEAR, DATE(CHILD.BANK_CLEARING_DATE) AS BANK_CLEARING_DATE, DATE(CHILD.FI_POSTING_DATE) AS FI_POSTING_DATE,\n CHILD.FI_GL_ACCOUNT, CHILD.FI_GL_DESCRIPTION, DATE(CHILD.PR_DATE) AS PR_DATE, DATE(CHILD.PO_DATE) AS PO_DATE, CHILD.REQUESTER_NAME \n AS REQUESTOR_NAME, CHILD.TRANSACTION_REFERENCE_NUMBER, CHILD.ITEM_NUMBER, CHILD.REFERENCE_DOCUMENT_CATEGORY as REFERENCE_DOC_CATEGORY, \n CHILD.REFERENCE_ORG_UNIT, CHILD.ACCT_ASSIGNMENT_NUMBER, CHILD.SCHEDULE_LINE_NUMBER, CHILD.CONDITION_COUNTER, CHILD.REFERENCE_PROCEDURE,\n CHILD.DOCUMENT_NUMBER_FM_LINE_ITEM, CHILD.NUMBER_OF_POST_FM_LINE_ITEM, CHILD.COMPANY_CODE, CHILD.VALUE_TYPE, CHILD.AMOUNT_TYPE, \n CHILD.TRANSACTION_NUMBER, CHILD.REMARKS, CHILD.DOCUMENT_NUMBER, CHILD.PREDECESSOR_DOC_NUMBER FROM AWARD A1 INNER JOIN AWARD_BUDGET_HEADER T1 \n ON A1.AWARD_ID = T1.AWARD_ID INNER JOIN AWARD_BUDGET_DETAIL T3 ON T3.BUDGET_HEADER_ID = T1.BUDGET_HEADER_ID INNER JOIN BUDGET_CATEGORY A3 \n ON T3.BUDGET_CATEGORY_CODE = A3.BUDGET_CATEGORY_CODE INNER JOIN COST_ELEMENT A4 ON T3.COST_ELEMENT = A4.COST_ELEMENT \n INNER JOIN AWARD_EXPENSE_TRANSACTIONS CHILD ON A1.ACCOUNT_NUMBER = CHILD.ACCOUNT_NUMBER AND T3.INTERNAL_ORDER_CODE = CHILD.INTERNAL_ORDER_CODE \n WHERE A1.AWARD_SEQUENCE_STATUS = \'ACTIVE\' <FILTER_CONDITION> AND T1.SEQUENCE_NUMBER IN (SELECT MAX(AB1.SEQUENCE_NUMBER) \n FROM AWARD_BUDGET_HEADER AB1 WHERE AB1.AWARD_ID = T1.AWARD_ID) ORDER BY CHILD.AWARD_NUMBER, CHILD.INTERNAL_ORDER_CODE,CHILD.FM_POSTING_DATE ASC,\n CHILD.DOCUMENT_NUMBER ASC)  UNION ALL (SELECT A1.AWARD_ID, A1.AWARD_NUMBER, A1.ACCOUNT_NUMBER, \'GRT\' \n AS BUDGET_CATEGORY_CODE, \'Grant Revenue\' AS BUDGET_CATEGORY, CHILD.INTERNAL_ORDER_CODE AS IO_CODE, NULL AS COST_ELEMENT, 0 AS EXPENDITURE_TO_DATE,\n 0 AS COMMITED_AMOUNT, IFNULL(CHILD.AMOUNT_IN_FMA_CURRENCY,0) AS REVENUE_AMOUNT, DATE(CHILD.FM_POSTING_DATE) \n AS FM_POSTING_DATE, str_to_date(CHILD.DOCUMENT_DATE, \"%Y-%m-%d\") AS DOCUMENT_DATE, CHILD.BP_NAME AS VENDOR_NAME, \n CHILD.BP_CODE AS VENDOR_CODE, CHILD.RYEAR AS FISCAL_YEAR, CHILD.PAYMENT_DATE AS BANK_CLEARING_DATE, str_to_date(CHILD.FI_POSTING_DATE, \"%Y-%m-%d\") \n AS FI_POSTING_DATE, CHILD.FI_GL_ACCOUNT, CHILD.FI_GL_DESCRIPTION, NULL AS PR_DATE, NULL AS PO_DATE, NULL AS REQUESTOR_NAME, \n CHILD.TRANSACTION_REFERENCE_NUMBER, NULL AS ITEM_NUMBER, NULL AS REFERENCE_DOC_CATEGORY, NULL AS REFERENCE_ORG_UNIT, \n NULL AS ACCT_ASSIGNMENT_NUMBER, NULL AS SCHEDULE_LINE_NUMBER, NULL AS CONDITION_COUNTER, NULL AS REFERENCE_PROCEDURE, \n NULL AS DOCUMENT_NUMBER_FM_LINE_ITEM, NULL AS NUMBER_OF_POST_FM_LINE_ITEM, CHILD.RBUKRS AS COMPANY_CODE, NULL AS VALUE_TYPE, \n NULL AS AMOUNT_TYPE, NULL AS TRANSACTION_NUMBER, CHILD.REMARKS, CHILD.GMIA_DOCNR AS DOCUMENT_NUMBER, NULL AS PREDECESSOR_DOC_NUMBER \n FROM AWARD A1 INNER JOIN AWARD_REVENUE_TRANSACTIONS CHILD ON A1.AWARD_NUMBER = CHILD.AWARD_NUMBER \nWHERE A1.AWARD_SEQUENCE_STATUS = \'ACTIVE\' <FILTER_CONDITION> ORDER BY CHILD.AWARD_NUMBER, CHILD.INTERNAL_ORDER_CODE,CHILD.FM_POSTING_DATE ASC, CHILD.GMIA_DOCNR ASC ))CHILD ON MASTER_DATA.AWARD_ID = CHILD.AWARD_ID','2020-12-17 20:01:41','quickstart');
INSERT INTO REPORT_TYPE_JOIN (`TYPE_JOIN_ID`,`TYPE_CODE`,`JOIN_QUERY`,`UPDATE_TIMESTAMP`,`UPDATE_USER`) VALUES (4,'16','INNER JOIN (SELECT \n     A1.AWARD_ID,\n     A1.AWARD_NUMBER,\n     A1.ACCOUNT_NUMBER,\n     T3.BUDGET_CATEGORY_CODE,\n     A3.DESCRIPTION AS BUDGET_CATEGORY,\n     T3.INTERNAL_ORDER_CODE AS IO_CODE,\n     A4.DESCRIPTION AS COST_ELEMENT,\n     CASE WHEN ACTUAL_OR_COMMITTED_FLAG = \'A\' THEN IFNULL(AMOUNT_IN_FMA_CURRENCY,0) ELSE 0 END AS EXPENDITURE_TO_DATE,\n    CASE WHEN ACTUAL_OR_COMMITTED_FLAG = \'C\' THEN IFNULL(AMOUNT_IN_FMA_CURRENCY,0) ELSE 0 END AS COMMITED_AMOUNT,\n    0 AS REVENUE_AMOUNT,\n     DATE(CHILD.FM_POSTING_DATE) AS FM_POSTING_DATE,\n     DATE(CHILD.DOCUMENT_DATE) AS DOCUMENT_DATE,\n     CHILD.VENDOR_NAME,\n     CHILD.VENDOR_CODE,\n     CHILD.FISCAL_YEAR,\n     DATE(CHILD.BANK_CLEARING_DATE) AS BANK_CLEARING_DATE,\n     DATE(CHILD.FI_POSTING_DATE) AS FI_POSTING_DATE,\n     CHILD.FI_GL_ACCOUNT,\n     CHILD.FI_GL_DESCRIPTION,\n     DATE(CHILD.PR_DATE) AS PR_DATE,\n     DATE(CHILD.PO_DATE) AS PO_DATE,\n     CHILD.REQUESTER_NAME AS REQUESTOR_NAME,\n     CHILD.TRANSACTION_REFERENCE_NUMBER,\n     CHILD.ITEM_NUMBER,\n     CHILD.REFERENCE_DOCUMENT_CATEGORY as REFERENCE_DOC_CATEGORY,\n     CHILD.REFERENCE_ORG_UNIT,                    \n     CHILD.ACCT_ASSIGNMENT_NUMBER,\n     CHILD.SCHEDULE_LINE_NUMBER,\n     CHILD.CONDITION_COUNTER,\n     CHILD.REFERENCE_PROCEDURE,\n     CHILD.DOCUMENT_NUMBER_FM_LINE_ITEM,\n     CHILD.NUMBER_OF_POST_FM_LINE_ITEM,\n     CHILD.COMPANY_CODE,\n     CHILD.VALUE_TYPE,\n     CHILD.AMOUNT_TYPE,\n     CHILD.TRANSACTION_NUMBER,\n    CHILD.REMARKS,\n    CHILD.DOCUMENT_NUMBER\n FROM AWARD A1 \n INNER JOIN AWARD_BUDGET_HEADER T1 ON A1.AWARD_ID = T1.AWARD_ID\n INNER JOIN AWARD_BUDGET_DETAIL T3 ON T3.BUDGET_HEADER_ID = T1.BUDGET_HEADER_ID\n INNER JOIN BUDGET_CATEGORY A3 ON T3.BUDGET_CATEGORY_CODE = A3.BUDGET_CATEGORY_CODE\n INNER JOIN COST_ELEMENT A4 ON T3.COST_ELEMENT = A4.COST_ELEMENT\n INNER JOIN AWARD_EXPENSE_TRANSACTIONS CHILD ON A1.ACCOUNT_NUMBER = CHILD.ACCOUNT_NUMBER \n                                           AND T3.INTERNAL_ORDER_CODE = CHILD.INTERNAL_ORDER_CODE\n WHERE A1.AWARD_SEQUENCE_STATUS = \'ACTIVE\'\n AND T3.BUDGET_CATEGORY_CODE NOT IN ( \'EOM\',\'RSS\')\n <FILTER_CONDITION>\n AND T1.SEQUENCE_NUMBER IN (SELECT MAX(AB1.SEQUENCE_NUMBER) FROM AWARD_BUDGET_HEADER AB1\n                            WHERE AB1.AWARD_ID = T1.AWARD_ID)\n)CHILD ON MASTER_DATA.AWARD_ID = CHILD.AWARD_ID','2021-04-23 22:09:51','quickstart');
INSERT INTO REPORT_TYPE_JOIN (`TYPE_JOIN_ID`,`TYPE_CODE`,`JOIN_QUERY`,`UPDATE_TIMESTAMP`,`UPDATE_USER`) VALUES (7,'16','INNER JOIN (SELECT \n 	A1.AWARD_ID,\n 	A1.AWARD_NUMBER,\n 	A1.ACCOUNT_NUMBER,\n 	T3.BUDGET_CATEGORY_CODE,\n 	A3.DESCRIPTION AS BUDGET_CATEGORY,\n 	T3.INTERNAL_ORDER_CODE AS IO_CODE,\n 	A4.DESCRIPTION AS COST_ELEMENT,\n 	CASE WHEN ACTUAL_OR_COMMITTED_FLAG = \'A\' THEN IFNULL(AMOUNT_IN_FMA_CURRENCY,0) ELSE 0 END AS EXPENDITURE_TO_DATE,\n    CASE WHEN ACTUAL_OR_COMMITTED_FLAG = \'C\' THEN IFNULL(AMOUNT_IN_FMA_CURRENCY,0) ELSE 0 END AS COMMITED_AMOUNT,\n	0 AS REVENUE_AMOUNT,\n 	DATE(CHILD.FM_POSTING_DATE) AS FM_POSTING_DATE,\n 	DATE(CHILD.DOCUMENT_DATE) AS DOCUMENT_DATE,\n 	CHILD.VENDOR_NAME,\n 	CHILD.VENDOR_CODE,\n 	CHILD.FISCAL_YEAR,\n 	DATE(CHILD.BANK_CLEARING_DATE) AS BANK_CLEARING_DATE,\n 	DATE(CHILD.FI_POSTING_DATE) AS FI_POSTING_DATE,\n 	CHILD.FI_GL_ACCOUNT,\n 	CHILD.FI_GL_DESCRIPTION,\n 	DATE(CHILD.PR_DATE) AS PR_DATE,\n 	DATE(CHILD.PO_DATE) AS PO_DATE,\n 	CHILD.REQUESTER_NAME AS REQUESTOR_NAME,\n 	CHILD.TRANSACTION_REFERENCE_NUMBER,\n 	CHILD.ITEM_NUMBER,\n 	CHILD.REFERENCE_DOCUMENT_CATEGORY as REFERENCE_DOC_CATEGORY,\n 	CHILD.REFERENCE_ORG_UNIT,					\n 	CHILD.ACCT_ASSIGNMENT_NUMBER,\n 	CHILD.SCHEDULE_LINE_NUMBER,\n 	CHILD.CONDITION_COUNTER,\n 	CHILD.REFERENCE_PROCEDURE,\n 	CHILD.DOCUMENT_NUMBER_FM_LINE_ITEM,\n 	CHILD.NUMBER_OF_POST_FM_LINE_ITEM,\n 	CHILD.COMPANY_CODE,\n 	CHILD.VALUE_TYPE,\n 	CHILD.AMOUNT_TYPE,\n 	CHILD.TRANSACTION_NUMBER,\n	CHILD.REMARKS,\n	CHILD.DOCUMENT_NUMBER\n FROM AWARD A1 \n INNER JOIN AWARD_BUDGET_HEADER T1 ON A1.AWARD_ID = T1.AWARD_ID\n INNER JOIN AWARD_BUDGET_DETAIL T3 ON T3.BUDGET_HEADER_ID = T1.BUDGET_HEADER_ID\n INNER JOIN BUDGET_CATEGORY A3 ON T3.BUDGET_CATEGORY_CODE = A3.BUDGET_CATEGORY_CODE\n INNER JOIN COST_ELEMENT A4 ON T3.COST_ELEMENT = A4.COST_ELEMENT\n INNER JOIN AWARD_EXPENSE_TRANSACTIONS CHILD ON A1.ACCOUNT_NUMBER = CHILD.ACCOUNT_NUMBER \n 										  AND T3.INTERNAL_ORDER_CODE = CHILD.INTERNAL_ORDER_CODE\n WHERE A1.AWARD_SEQUENCE_STATUS = \'ACTIVE\'\n AND T3.BUDGET_CATEGORY_CODE NOT IN ( \'EOM\',\'RSS\')\n <FILTER_CONDITION>\n AND T1.SEQUENCE_NUMBER IN (SELECT MAX(AB1.SEQUENCE_NUMBER) FROM AWARD_BUDGET_HEADER AB1\n 						   WHERE AB1.AWARD_ID = T1.AWARD_ID)\n)CHILD ON MASTER_DATA.AWARD_ID = CHILD.AWARD_ID','2020-12-15 20:02:53','admin');
INSERT INTO REPORT_TYPE_JOIN (`TYPE_JOIN_ID`,`TYPE_CODE`,`JOIN_QUERY`,`UPDATE_TIMESTAMP`,`UPDATE_USER`) VALUES (8,'31','INNER JOIN (SELECT A1.AWARD_ID,A1.AWARD_NUMBER,A1.ACCOUNT_NUMBER,T3.BUDGET_CATEGORY_CODE,A3.DESCRIPTION AS BUDGET_CATEGORY,T3.INTERNAL_ORDER_CODE AS IO_CODE,A4.DESCRIPTION AS COST_ELEMENT,CASE WHEN ACTUAL_OR_COMMITTED_FLAG = \'A\' THEN IFNULL(AMOUNT_IN_FMA_CURRENCY,0) ELSE 0 END AS EXPENDITURE_TO_DATE, CASE WHEN ACTUAL_OR_COMMITTED_FLAG = \'C\' THEN IFNULL(AMOUNT_IN_FMA_CURRENCY,0) ELSE 0 END AS COMMITED_AMOUNT, 0 AS REVENUE_AMOUNT,DATE(CHILD.FM_POSTING_DATE) AS FM_POSTING_DATE,(CASE WHEN CHILD.PO_PR_FLAG = \'PR\' THEN CHILD.PR_DATE WHEN CHILD.PO_PR_FLAG = \'PO\' THEN CHILD.PO_DATE ELSE NULL END)AS DOCUMENT_DATE,CHILD.VENDOR_NAME,CHILD.VENDOR_CODE,CHILD.FISCAL_YEAR, DATE(CHILD.BANK_CLEARING_DATE) AS BANK_CLEARING_DATE,DATE(CHILD.FI_POSTING_DATE) AS FI_POSTING_DATE,CHILD.FI_GL_ACCOUNT,CHILD.FI_GL_DESCRIPTION,DATE(CHILD.PR_DATE) AS PR_DATE,DATE(CHILD.PO_DATE) AS PO_DATE,CHILD.REQUESTER_NAME AS REQUESTOR_NAME,CHILD.TRANSACTION_REFERENCE_NUMBER,CHILD.ITEM_NUMBER,CHILD.REFERENCE_DOCUMENT_CATEGORY as REFERENCE_DOC_CATEGORY,CHILD.REFERENCE_ORG_UNIT,CHILD.ACCT_ASSIGNMENT_NUMBER,CHILD.SCHEDULE_LINE_NUMBER,CHILD.CONDITION_COUNTER, CHILD.REFERENCE_PROCEDURE,CHILD.DOCUMENT_NUMBER_FM_LINE_ITEM,CHILD.NUMBER_OF_POST_FM_LINE_ITEM,CHILD.COMPANY_CODE,CHILD.VALUE_TYPE, CHILD.AMOUNT_TYPE,CHILD.TRANSACTION_NUMBER,CHILD.REMARKS,CHILD.DOCUMENT_NUMBER,CHILD.AWARD_EXPENSE_TRANS_ID FROM AWARD A1 INNER JOIN AWARD_BUDGET_HEADER T1 ON A1.AWARD_ID = T1.AWARD_ID INNER JOIN AWARD_BUDGET_DETAIL T3 ON T3.BUDGET_HEADER_ID = T1.BUDGET_HEADER_ID INNER JOIN BUDGET_CATEGORY A3 ON T3.BUDGET_CATEGORY_CODE = A3.BUDGET_CATEGORY_CODE INNER JOIN COST_ELEMENT A4 ON T3.COST_ELEMENT = A4.COST_ELEMENT INNER JOIN AWARD_EXPENSE_TRANSACTIONS CHILD ON A1.ACCOUNT_NUMBER = CHILD.ACCOUNT_NUMBER AND T3.INTERNAL_ORDER_CODE = CHILD.INTERNAL_ORDER_CODE WHERE A1.AWARD_SEQUENCE_STATUS = \'ACTIVE\' AND CHILD.AMOUNT_IN_FMA_CURRENCY <> 0 AND CHILD.AMOUNT_TYPE NOT IN (\'0300\', \'0350\') AND EXISTS (SELECT 1 FROM AWARD_EXPENSE_TRANSACTIONS WHERE ACTUAL_OR_COMMITTED_FLAG = \'C\' AND DOCUMENT_NUMBER = CHILD.DOCUMENT_NUMBER AND ITEM_NUMBER = CHILD. ITEM_NUMBER AND REFERENCE_DOCUMENT_CATEGORY = CHILD.REFERENCE_DOCUMENT_CATEGORY AND REFERENCE_ORG_UNIT= CHILD.REFERENCE_ORG_UNIT AND ACCT_ASSIGNMENT_NUMBER = CHILD.ACCT_ASSIGNMENT_NUMBER AND SCHEDULE_LINE_NUMBER= CHILD.SCHEDULE_LINE_NUMBER AND CONDITION_COUNTER = CHILD.CONDITION_COUNTER AND REFERENCE_PROCEDURE= CHILD.REFERENCE_PROCEDURE AND DOCUMENT_NUMBER_FM_LINE_ITEM = CHILD.DOCUMENT_NUMBER_FM_LINE_ITEM AND INTERNAL_ORDER_CODE = CHILD.INTERNAL_ORDER_CODE GROUP BY DOCUMENT_NUMBER,ITEM_NUMBER,REFERENCE_DOCUMENT_CATEGORY,REFERENCE_ORG_UNIT,ACCT_ASSIGNMENT_NUMBER, SCHEDULE_LINE_NUMBER,CONDITION_COUNTER,REFERENCE_PROCEDURE,DOCUMENT_NUMBER_FM_LINE_ITEM, INTERNAL_ORDER_CODE HAVING (SUM(AMOUNT_IN_FMA_CURRENCY) <> 0)) <FILTER_CONDITION> AND T1.SEQUENCE_NUMBER IN (SELECT MAX(AB1.SEQUENCE_NUMBER) FROM AWARD_BUDGET_HEADER AB1 WHERE AB1.AWARD_ID = T1.AWARD_ID) UNION ALL SELECT A1.AWARD_ID,A1.AWARD_NUMBER,A1.ACCOUNT_NUMBER,\'GRT\' AS BUDGET_CATEGORY_CODE,\'Grant Revenue\' AS BUDGET_CATEGORY,CHILD.INTERNAL_ORDER_CODE AS IO_CODE,NULL AS COST_ELEMENT,0 AS EXPENDITURE_TO_DATE,0 AS COMMITED_AMOUNT, IFNULL(CHILD.AMOUNT_IN_FMA_CURRENCY,0) AS REVENUE_AMOUNT,DATE(CHILD.FM_POSTING_DATE) AS FM_POSTING_DATE,str_to_date(CHILD.DOCUMENT_DATE, \"%Y-%m-%d\") AS DOCUMENT_DATE,CHILD.BP_NAME AS VENDOR_NAME,CHILD.BP_CODE AS VENDOR_CODE,CHILD.RYEAR AS FISCAL_YEAR, NULL AS BANK_CLEARING_DATE,str_to_date(CHILD.FI_POSTING_DATE, \"%Y-%m-%d\") AS FI_POSTING_DATE,CHILD.FI_GL_ACCOUNT,CHILD.FI_GL_DESCRIPTION, NULL AS PR_DATE,NULL AS PO_DATE,NULL AS REQUESTOR_NAME,CHILD.TRANSACTION_REFERENCE_NUMBER,NULL AS ITEM_NUMBER,NULL AS REFERENCE_DOC_CATEGORY, NULL AS REFERENCE_ORG_UNIT,NULL AS ACCT_ASSIGNMENT_NUMBER,NULL AS SCHEDULE_LINE_NUMBER,NULL AS CONDITION_COUNTER,NULL AS REFERENCE_PROCEDURE, NULL AS DOCUMENT_NUMBER_FM_LINE_ITEM,NULL AS NUMBER_OF_POST_FM_LINE_ITEM,CHILD.RBUKRS AS COMPANY_CODE,NULL AS VALUE_TYPE,NULL AS AMOUNT_TYPE, NULL AS TRANSACTION_NUMBER,CHILD.REMARKS,CHILD.GMIA_DOCNR AS DOCUMENT_NUMBER,NULL AS AWARD_EXPENSE_TRANS_ID FROM AWARD A1 INNER JOIN AWARD_REVENUE_TRANSACTIONS CHILD ON A1.AWARD_NUMBER = CHILD.AWARD_NUMBER WHERE A1.AWARD_SEQUENCE_STATUS = \'ACTIVE\' <FILTER_CONDITION> )CHILD ON MASTER_DATA.AWARD_ID = CHILD.AWARD_ID','2021-04-23 22:09:51','quickstart');
INSERT INTO REPORT_TYPE_JOIN (`TYPE_JOIN_ID`,`TYPE_CODE`,`JOIN_QUERY`,`UPDATE_TIMESTAMP`,`UPDATE_USER`) VALUES (9,'11','INNER JOIN PERSON ON PERSON_ID = KEY_PERSON_ID','2022-01-13 14:31:40','quickstart');
INSERT INTO REPORT_TYPE_JOIN (`TYPE_JOIN_ID`,`TYPE_CODE`,`JOIN_QUERY`,`UPDATE_TIMESTAMP`,`UPDATE_USER`) VALUES (12,'25','INNER JOIN (SELECT A1.TITLE AS TITLE, A1.ACCOUNT_NUMBER AS ACCOUNT_NUMBER,A1.AWARD_NUMBER AS AWARD_NUMBER, A1.AWARD_ID AS AWARD_ID,A1.PI_PERSON_ID AS PI_PERSON_ID, A1.PI_NAME AS PI_NAME,A1.AWARD_TYPE AS AWARD_TYPE, A1.ACCOUNT_TYPE AS ACCOUNT_TYPE, A1.AWARD_STATUS AS AWARD_STATUS,A1.SPONSOR_CODE AS SPONSOR_CODE,  A1.SPONSOR_NAME AS SPONSOR_NAME, A1.SPONSOR_TYPE AS SPONSOR_TYPE, A1.SPONSOR_AWARD_NUMBER AS SPONSOR_AWARD_NUMBER, A1.LEAD_UNIT_NUMBER AS LEAD_UNIT_NUMBER, A1.UNIT_NAME AS UNIT_NAME, A1.SUB_LEAD_UNIT AS SUB_LEAD_UNIT, A1.BEGIN_DATE AS BEGIN_DATE, A1.FINAL_EXPIRATION_DATE AS FINAL_EXPIRATION_DATE, A1.DURATION AS AWARD_DURATION, A1.ANTICIPATED_TOTAL_AMOUNT AS ANTICIPATED_TOTAL_AMOUNT, A1.AMOUNT_OBLIGATED_TO_DATE AS AMOUNT_OBLIGATED_TO_DATE, A1.TOTAL_COST AS TOTAL_COST, A1.TOTAL_PROJECT_COST AS TOTAL_PROJECT_COST, A1.GRANT_CALL_TITLE AS GRANT_CALL_TITLE, A1.FUNDING_SCHEME AS FUNDING_SCHEME, A1.BASIS_OF_PAYMENT_DESC AS BASIS_OF_PAYMENT_DESC, A1.METHOD_OF_PAYMENT_DESC AS METHOD_OF_PAYMENT_DESC, A1.PERSON_ROLE_ID,((TO_DAYS(UTC_TIMESTAMP()) - TO_DAYS(A1.FINAL_EXPIRATION_DATE)) + 1) AS BASIS_OF_PROJECT_END_DATE FROM AWARD_MASTER_DATASET_RT A1) AWARD_MASTER_DATA ON AWARD_MASTER_DATA.AWARD_NUMBER = CLAIM_DATA.AWARD_NUMBER AND AWARD_MASTER_DATA.PERSON_ROLE_ID = 3','2022-07-14 12:04:35','quickstart');
INSERT INTO REPORT_TYPE_JOIN (`TYPE_JOIN_ID`,`TYPE_CODE`,`JOIN_QUERY`,`UPDATE_TIMESTAMP`,`UPDATE_USER`) VALUES (17,'91','left outer join( select IFNULL(t2.EXPENSE_AMT,0.00) as ANNUALIZED_EXPENSE_AMT,IFNULL(t3.EXPENSE_AMT_WO_IRC,0.00) as ANNUALIZED_EXPENSE_AMT_WO_IRC,T2.FM_POSTING_DATE  AS FM_POSTING_DATE,t2.ACCOUNT_NUMBER from(	select CHILD.ACCOUNT_NUMBER, SUM(CHILD.AMOUNT_IN_FMA_CURRENCY) EXPENSE_AMT,CHILD.FM_POSTING_DATE from award_expense_transactions CHILD where CHILD.ACTUAL_OR_COMMITTED_FLAG = \'A\' <FILTER_CONDITION>	and CHILD.INTERNAL_ORDER_CODE in (select distinct INTERNAL_ORDER_CODE from AWARD_BUDGET_DETAIL)group by CHILD.ACCOUNT_NUMBER) as t2 LEFT OUTER JOIN (select CHILD.ACCOUNT_NUMBER, SUM(CHILD.AMOUNT_IN_FMA_CURRENCY) EXPENSE_AMT_WO_IRC from award_expense_transactions CHILD where CHILD.ACTUAL_OR_COMMITTED_FLAG = \'A\' <FILTER_CONDITION> AND substr(CHILD.INTERNAL_ORDER_CODE,16,3) <> \'IRC\' and CHILD.INTERNAL_ORDER_CODE in (select distinct INTERNAL_ORDER_CODE from AWARD_BUDGET_DETAIL)group by CHILD.ACCOUNT_NUMBER) t3 on t3.ACCOUNT_NUMBER = t2.ACCOUNT_NUMBER) CHILD ON CHILD.ACCOUNT_NUMBER = master_data.ACCOUNT_NUMBER\n','2023-02-02 20:22:35','quickstart');
INSERT INTO REPORT_TYPE_JOIN (`TYPE_JOIN_ID`,`TYPE_CODE`,`JOIN_QUERY`,`UPDATE_TIMESTAMP`,`UPDATE_USER`) VALUES (19,'51','left outer join(SELECT T1.AWARD_NUMBER,T1.INTERNAL_ORDER_CODE,T1.BANK_CLEARING_DATE,T1.REMARKS,T1.FM_POSTING_DATE,T1.FI_POSTING_DATE,T1.DOCUMENT_DATE,T1.FI_GL_DESCRIPTION,T1.FI_GL_ACCOUNT,T1.VENDOR_CODE,T1.ASSET_LOCATION_CODE,T1.ACCOUNT_NUMBER,T1.AMOUNT_IN_FMA_CURRENCY,T1.VENDOR_NAME AS VENDOR_NAME,T1.REFERENCE_DOC_NUMBER AS REFERENCE_DOC_NUMBER,T1.PREDECESSOR_DOC_NUMBER AS PREDECESSOR_DOC_NUMBER,T1.ASSET_LOCATION FROM award_expense_transactions T1 WHERE T1.AMOUNT_IN_FMA_CURRENCY <> 0.00 AND T1.ACTUAL_OR_COMMITTED_FLAG = \'A\' and (t1.INTERNAL_ORDER_CODE is null  or  (not exists (SELECT distinct  TRIM(T3.INTERNAL_ORDER_CODE) as IO_CODE	FROM AWARD_BUDGET_HEADER T2 JOIN AWARD_BUDGET_DETAIL T3 ON T3.BUDGET_HEADER_ID = T2.BUDGET_HEADER_ID	WHERE t2.AWARD_NUMBER= t1.AWARD_NUMBER and T2.VERSION_NUMBER IN (SELECT MAX(T4.VERSION_NUMBER)	FROM AWARD_BUDGET_HEADER T4	WHERE T2.AWARD_ID = T4.AWARD_ID)    and t3.INTERNAL_ORDER_CODE is not null   and TRIM(T3.INTERNAL_ORDER_CODE) = t1.INTERNAL_ORDER_CODE   UNION	SELECT distinct  TRIM(T7.IO_CODE)	FROM AWARD_BUDGET_HEADER T4 	JOIN AWARD_BUDGET_DETAIL T5 ON T5.BUDGET_HEADER_ID = T4.BUDGET_HEADER_ID	LEFT OUTER JOIN AWARD_BUDGET_PERSON_DETAIL T7 ON T7.BUDGET_DETAILS_ID = T5.BUDGET_DETAILS_ID	WHERE t4.AWARD_NUMBER=t1.award_number and T4.VERSION_NUMBER IN (SELECT MAX(T6.VERSION_NUMBER)	FROM AWARD_BUDGET_HEADER T6	WHERE T4.AWARD_ID = T6.AWARD_ID)AND T7.IO_CODE IS NOT NULL and TRIM(T7.IO_CODE) = t1.INTERNAL_ORDER_CODE) ))) CHILD ON CHILD.AWARD_NUMBER = MASTER_DATA.AWARD_NUMBER','2022-04-20 06:43:52','quickstart');
INSERT INTO REPORT_TYPE_JOIN (`TYPE_JOIN_ID`,`TYPE_CODE`,`JOIN_QUERY`,`UPDATE_TIMESTAMP`,`UPDATE_USER`) VALUES (20,'2','LEFT JOIN(SELECT A1.AWARD_ID,A4.DESCRIPTION AS COST_ELEMENT, A3.DESCRIPTION AS BUDGET_CATEGORY , SUM(T3.LINE_ITEM_COST) AS LATEST_APRVD_BUDGT , IFNULL(ORIGINAL_APRVD_BUDGT,0) AS ORIGINAL_APRVD_BUDGTFROM AWARD A1  INNER JOIN AWARD_BUDGET_HEADER T1 ON A1.AWARD_ID = T1.AWARD_ID INNER JOIN AWARD_BUDGET_DETAIL T3 ON T3.BUDGET_HEADER_ID = T1.BUDGET_HEADER_ID LEFT OUTER JOIN (SELECTA2.AWARD_ID, SUM(A3.LINE_ITEM_COST) AS ORIGINAL_APRVD_BUDGT, A3.COST_ELEMENT    FROM AWARD_BUDGET_HEADER A2    INNER JOIN AWARD_BUDGET_DETAIL A3 ON A2.BUDGET_HEADER_ID = A3.BUDGET_HEADER_ID   WHERE A2.AWARD_ID IN (SELECT AWARD_ID FROM AWARD WHERE AWARD_SEQUENCE_STATUS = \'ACTIVE\')   AND A2.SEQUENCE_NUMBER IN (SELECT MIN(AB1.SEQUENCE_NUMBER) FROM AWARD_BUDGET_HEADER AB1 WHERE AB1.AWARD_ID = A2.AWARD_ID) group by A3.COST_ELEMENT, A3.LINE_ITEM_NUMBER   )S1 ON S1.COST_ELEMENT = T3.COST_ELEMENT AND S1.AWARD_ID = T1.AWARD_ID  INNER JOIN BUDGET_CATEGORY A3 ON T3.BUDGET_CATEGORY_CODE = A3.BUDGET_CATEGORY_CODE INNER JOIN COST_ELEMENT A4 ON T3.COST_ELEMENT = A4.COST_ELEMENT WHERE A1.AWARD_SEQUENCE_STATUS = \'ACTIVE\'  AND T1.SEQUENCE_NUMBER IN (SELECT MAX(AB1.SEQUENCE_NUMBER) FROM AWARD_BUDGET_HEADER AB1    WHERE AB1.AWARD_ID = T1.AWARD_ID)GROUP BY T3.COST_ELEMENT, T3.LINE_ITEM_NUMBER)CHILD ON MASTER_DATA.AWARD_ID = CHILD.AWARD_ID','2023-02-01 09:57:09','willsmith');
INSERT INTO REPORT_TYPE_JOIN (`TYPE_JOIN_ID`,`TYPE_CODE`,`JOIN_QUERY`,`UPDATE_TIMESTAMP`,`UPDATE_USER`) VALUES (30,'151','LEFT JOIN AWARD_EXPENSE_TRANSACTIONS AS CHILD ON MASTER_DATA.AWARD_NUMBER = CHILD.AWARD_NUMBER','2024-03-14 20:34:51','quickstart');
INSERT INTO REPORT_TYPE_JOIN (`TYPE_JOIN_ID`,`TYPE_CODE`,`JOIN_QUERY`,`UPDATE_TIMESTAMP`,`UPDATE_USER`) VALUES (31,'38','LEFT JOIN (WITH FEED_STATUS_TMP AS (\n SELECT \n A.AWARD_ID,\n  A.AWARD_NUMBER,\n  A.AWARD_SEQUENCE_STATUS,\n  F.FEED_ID,\n  F.FEED_STATUS,\n  F.BATCH_ID,\n F.SYSTEM_COMMENT\n FROM AWARD A\n  INNER JOIN SAP_AWARD_FEED F ON A.AWARD_ID = F.AWARD_ID\n WHERE (F.FEED_ID IS NULL OR F.FEED_ID = (\n  SELECT MAX(FEED_ID) \n  FROM SAP_AWARD_FEED \n  WHERE AWARD_ID = A.AWARD_ID \n  AND (SYSTEM_COMMENT <> \'THIS_VR_NOT_REQUIRED_TO_FEED_SAP\' OR SYSTEM_COMMENT IS NULL)\n ))\n),\nFINAL_FEED_STATUS AS (\n  SELECT \n  AWARD_ID,\n  AWARD_NUMBER,\n  CASE \n  WHEN AWARD_SEQUENCE_STATUS = \'ACTIVE\' THEN (\n SELECT FEED_STATUS \n \nFROM SAP_AWARD_FEED \n  WHERE FEED_ID = (\n  SELECT MAX(FEED_ID) \n  FROM SAP_AWARD_FEED \n  WHERE AWARD_NUMBER = F.AWARD_NUMBER \n AND (SYSTEM_COMMENT <> \'THIS_VR_NOT_REQUIRED_TO_FEED_SAP\' OR SYSTEM_COMMENT IS NULL)\n )\n )\n WHEN FEED_STATUS = \'C\' THEN (\n SELECT FEED_STATUS \n  FROM SAP_AWARD_FEED \n  WHERE FEED_ID = (\n  SELECT MAX(FEED_ID) \n  FROM SAP_AWARD_FEED \n  WHERE BATCH_ID = (\n SELECT MAX(BATCH_ID) \n  FROM SAP_AWARD_FEED \n WHERE AWARD_ID = F.AWARD_ID\n ) \n  AND AWARD_NUMBER = F.AWARD_NUMBER \n AND (SYSTEM_COMMENT <> \'THIS_VR_NOT_REQUIRED_TO_FEED_SAP\' OR SYSTEM_COMMENT IS NULL)\n  )\n )\n ELSE FEED_STATUS\n END AS FINAL_STATUS,\n  BATCH_ID\n FROM FEED_STATUS_TMP F\n),\nSTATUS_DESCRIPTION AS (\n  SELECT \n  F.AWARD_ID,\n  F.AWARD_NUMBER,\n  IFNULL(S.DESCRIPTION, \' \') AS FEED_STATUS\n    FROM FINAL_FEED_STATUS F\n LEFT JOIN SAP_FEED_STATUS S ON F.FINAL_STATUS = S.FEED_STATUS_CODE\n)\nSELECT \n AWARD_ID,\nAWARD_NUMBER,\n    FEED_STATUS\nFROM STATUS_DESCRIPTION\n)\nAS CHILD ON MASTER.AWARD_ID = CHILD.AWARD_ID','2024-06-20 20:20:52','quickstart');
INSERT INTO REPORT_TYPE_JOIN (`TYPE_JOIN_ID`,`TYPE_CODE`,`JOIN_QUERY`,`UPDATE_TIMESTAMP`,`UPDATE_USER`) VALUES (32,'9','LEFT JOIN AWARD_CUSTOM_DATA_RT CHILD ON CHILD.AWARD_ID = MASTER.AWARD_ID','2024-09-20 22:07:28','quickstart');
INSERT INTO REPORT_TYPE_JOIN (`TYPE_JOIN_ID`,`TYPE_CODE`,`JOIN_QUERY`,`UPDATE_TIMESTAMP`,`UPDATE_USER`) VALUES (33,'6','INNER JOIN (SELECT A1.AWARD_ID AS AWARD_ID, A1.AWARD_NUMBER AS AWARD_NUMBER, A1.ACCOUNT_NUMBER AS ACCOUNT_NUMBER, A1.AWARD_STATUS AS AWARD_STATUS, A1.AWARD_TYPE AS AWARD_TYPE, A1.ACTIVITY_TYPE AS ACTIVITY_TYPE, A1.FINAL_EXPIRATION_DATE AS FINAL_EXPIRATION_DATE, A1.TITLE AS AWARD_TITLE, A1.GRANT_CALL_TITLE AS GRANT_CALL_TITLE, A1.SPONSOR_CODE AS SPONSOR_CODE, A1.SPONSOR_NAME AS SPONSOR_NAME, A1.PRIME_SPONSOR_CODE AS PRIME_SPONSOR_CODE, A1.PRIME_SPONSOR_NAME AS PRIME_SPONSOR_NAME, A1.SPONSOR_AWARD_NUMBER AS SPONSOR_AWARD_NUMBER, A1.LEAD_UNIT_NUMBER AS LEAD_UNIT_NUMBER, A1.UNIT_NAME AS UNIT_NAME, A1.SUB_LEAD_UNIT AS SUB_LEAD_UNIT, A1.PI_PERSON_ID AS PI_PERSON_ID, A1.PI_NAME AS PI_NAME, A1.KEY_PERSON_EMAIL AS KEY_PERSON_EMAIL, A1.FUNDING_SCHEME AS FUNDING_SCHEME,  A1.F_AND_A_RATE_TYPE AS F_AND_A_RATE_TYPE, A1.FEED_STATUS AS FEED_STATUS, A1.BEGIN_DATE AS AWARD_BEGIN_DATE,A1.PERSON_ROLE_ID AS PERSON_ROLE_ID FROM AWARD_MASTER_DATASET_RT A1) AWARD_MASTER_DATA ON AWARD_MASTER_DATA.AWARD_NUMBER = AWARD_DMP_DATASET.AWARD_NUMBER and AWARD_MASTER_DATA.PERSON_ROLE_ID = \'3\'','2025-03-14 15:19:56','quickstart');
INSERT INTO REPORT_TYPE_JOIN (`TYPE_JOIN_ID`,`TYPE_CODE`,`JOIN_QUERY`,`UPDATE_TIMESTAMP`,`UPDATE_USER`) VALUES (191,'152','LEFT JOIN ( SELECT T1.AWARD_NUMBER, \nIFNULL(T1.LATEST_APPROVED_BUDGET, 0) AS REVISED_AMOUNT, \nIFNULL(T2.TOTAL_EXPENSE_AMOUNT, 0) AS EXPENDITURE_TO_DATE, \nIFNULL(T2.COMMITTED_AMOUNT, 0) AS COMMITTED_AMOUNT, \nIFNULL(T2.TOTAL_REVENUE_AMOUNT, 0) AS TOTAL_REVENUE_AMOUNT, \nIFNULL(T1.LATEST_APPROVED_BUDGET, 0) - IFNULL(T2.TOTAL_EXPENSE_AMOUNT, 0) AS BALANCE, \nIFNULL(T1.LATEST_APPROVED_BUDGET, 0) - (IFNULL(T2.TOTAL_EXPENSE_AMOUNT, 0) + IFNULL(T2.COMMITTED_AMOUNT, 0)) AS\nBALANCELESS_COMMITTED_AMOUNT,\nCASE WHEN (T1.LATEST_APPROVED_BUDGET IS NOT NULL AND T1.LATEST_APPROVED_BUDGET > 0) \nTHEN IFNULL(ROUND((T2.TOTAL_EXPENSE_AMOUNT / T1.LATEST_APPROVED_BUDGET) * 100, 2), 0) ELSE 0 END AS UTILIZATION_RATE \nFROM \n( SELECT AWARD_NUMBER, SUM(LATEST_APPROVED_BUDGET) AS LATEST_APPROVED_BUDGET FROM AWARD_LATEST_APROVED_BUDGET_RT GROUP BY AWARD_NUMBER )\nAS T1 \nLEFT JOIN ( SELECT AWARD_NUMBER, IFNULL(SUM(TOTAL_EXPENSE_AMOUNT),0) AS TOTAL_EXPENSE_AMOUNT, IFNULL(SUM(COMMITTED_AMOUNT),0) AS COMMITTED_AMOUNT, IFNULL(SUM(TOTAL_REVENUE_AMOUNT),0) AS TOTAL_REVENUE_AMOUNT FROM ( \nSELECT AWARD_NUMBER, ACTUAL_AMOUNT AS TOTAL_EXPENSE_AMOUNT, COMMITTED_AMOUNT AS COMMITTED_AMOUNT, \n0 AS TOTAL_REVENUE_AMOUNT FROM AWARD_EXPENSE_TRANS_AMT_RT CHILD WHERE 1 = 1 <FILTER_CONDITION>\nUNION ALL \nSELECT CHILD.AWARD_NUMBER, \n0 AS TOTAL_EXPENSE_AMOUNT, 0 AS COMMITTED_AMOUNT, CHILD.AMOUNT_IN_FMA_CURRENCY AS TOTAL_REVENUE_AMOUNT \nFROM AWARD_REVENUE_TRANSACTIONS CHILD WHERE CHILD.ACTUAL_OR_COMMITTED_FLAG = \'R\' <FILTER_CONDITION> ) TAB GROUP BY TAB.AWARD_NUMBER ) AS T2 ON T1.AWARD_NUMBER = T2.AWARD_NUMBER ) CHILD ON MASTER_DATA.AWARD_NUMBER = CHILD.AWARD_NUMBER','2024-10-06 20:37:21','quickstart');
INSERT INTO REPORT_TYPE_JOIN (`TYPE_JOIN_ID`,`TYPE_CODE`,`JOIN_QUERY`,`UPDATE_TIMESTAMP`,`UPDATE_USER`) VALUES (194,'152','LEFT JOIN ( SELECT T1.AWARD_NUMBER, \nIFNULL(T1.LATEST_APPROVED_BUDGET, 0) AS REVISED_AMOUNT, \nIFNULL(T2.TOTAL_EXPENSE_AMOUNT, 0) AS EXPENDITURE_TO_DATE, \nIFNULL(T2.COMMITTED_AMOUNT, 0) AS COMMITTED_AMOUNT, \nIFNULL(T2.TOTAL_REVENUE_AMOUNT, 0) AS TOTAL_REVENUE_AMOUNT, \nIFNULL(T1.LATEST_APPROVED_BUDGET, 0) - IFNULL(T2.TOTAL_EXPENSE_AMOUNT, 0) AS BALANCE, \nIFNULL(T1.LATEST_APPROVED_BUDGET, 0) - (IFNULL(T2.TOTAL_EXPENSE_AMOUNT, 0) + IFNULL(T2.COMMITTED_AMOUNT, 0)) AS\nBALANCELESS_COMMITTED_AMOUNT,\nCASE WHEN (T1.LATEST_APPROVED_BUDGET IS NOT NULL AND T1.LATEST_APPROVED_BUDGET > 0) \nTHEN IFNULL(ROUND((T2.TOTAL_EXPENSE_AMOUNT / T1.LATEST_APPROVED_BUDGET) * 100, 2), 0) ELSE 0 END AS UTILIZATION_RATE \nFROM \n( SELECT AWARD_NUMBER, SUM(LATEST_APPROVED_BUDGET) AS LATEST_APPROVED_BUDGET FROM AWARD_LATEST_APROVED_BUDGET_RT GROUP BY AWARD_NUMBER )\nAS T1 \nLEFT JOIN ( SELECT AWARD_NUMBER, IFNULL(SUM(TOTAL_EXPENSE_AMOUNT),0) AS TOTAL_EXPENSE_AMOUNT, IFNULL(SUM(COMMITTED_AMOUNT),0) AS COMMITTED_AMOUNT, IFNULL(SUM(TOTAL_REVENUE_AMOUNT),0) AS TOTAL_REVENUE_AMOUNT FROM ( \nSELECT AWARD_NUMBER, ACTUAL_AMOUNT AS TOTAL_EXPENSE_AMOUNT, COMMITTED_AMOUNT AS COMMITTED_AMOUNT, \n0 AS TOTAL_REVENUE_AMOUNT FROM AWARD_EXPENSE_TRANS_AMT_RT CHILD WHERE 1 = 1 <FILTER_CONDITION>\nUNION ALL \nSELECT CHILD.AWARD_NUMBER, \n0 AS TOTAL_EXPENSE_AMOUNT, 0 AS COMMITTED_AMOUNT, CHILD.AMOUNT_IN_FMA_CURRENCY AS TOTAL_REVENUE_AMOUNT \nFROM AWARD_REVENUE_TRANSACTIONS CHILD WHERE CHILD.ACTUAL_OR_COMMITTED_FLAG = \'R\' <FILTER_CONDITION> ) TAB GROUP BY TAB.AWARD_NUMBER ) AS T2 ON T1.AWARD_NUMBER = T2.AWARD_NUMBER ) CHILD ON MASTER_DATA.AWARD_NUMBER = CHILD.AWARD_NUMBER','2025-04-24 23:29:17','willsmith');
INSERT INTO REPORT_TYPE_JOIN (`TYPE_JOIN_ID`,`TYPE_CODE`,`JOIN_QUERY`,`UPDATE_TIMESTAMP`,`UPDATE_USER`) VALUES (807,'152','LEFT JOIN ( SELECT T1.AWARD_NUMBER, \nIFNULL(T1.LATEST_APPROVED_BUDGET, 0) AS REVISED_AMOUNT, \nIFNULL(T2.TOTAL_EXPENSE_AMOUNT, 0) AS EXPENDITURE_TO_DATE, \nIFNULL(T2.COMMITTED_AMOUNT, 0) AS COMMITTED_AMOUNT, \nIFNULL(T2.TOTAL_REVENUE_AMOUNT, 0) AS TOTAL_REVENUE_AMOUNT, \nIFNULL(T1.LATEST_APPROVED_BUDGET, 0) - IFNULL(T2.TOTAL_EXPENSE_AMOUNT, 0) AS BALANCE, \nIFNULL(T1.LATEST_APPROVED_BUDGET, 0) - (IFNULL(T2.TOTAL_EXPENSE_AMOUNT, 0) + IFNULL(T2.COMMITTED_AMOUNT, 0)) AS\nBALANCELESS_COMMITTED_AMOUNT,\nCASE WHEN (T1.LATEST_APPROVED_BUDGET IS NOT NULL AND T1.LATEST_APPROVED_BUDGET > 0) \nTHEN IFNULL(ROUND((T2.TOTAL_EXPENSE_AMOUNT / T1.LATEST_APPROVED_BUDGET) * 100, 2), 0) ELSE 0 END AS UTILIZATION_RATE \nFROM \n( SELECT AWARD_NUMBER, SUM(LATEST_APPROVED_BUDGET) AS LATEST_APPROVED_BUDGET FROM AWARD_LATEST_APROVED_BUDGET_RT GROUP BY AWARD_NUMBER )\nAS T1 \nLEFT JOIN ( SELECT AWARD_NUMBER, IFNULL(SUM(TOTAL_EXPENSE_AMOUNT),0) AS TOTAL_EXPENSE_AMOUNT, IFNULL(SUM(COMMITTED_AMOUNT),0) AS COMMITTED_AMOUNT, IFNULL(SUM(TOTAL_REVENUE_AMOUNT),0) AS TOTAL_REVENUE_AMOUNT FROM ( \nSELECT AWARD_NUMBER, ACTUAL_AMOUNT AS TOTAL_EXPENSE_AMOUNT, COMMITTED_AMOUNT AS COMMITTED_AMOUNT, \n0 AS TOTAL_REVENUE_AMOUNT FROM AWARD_EXPENSE_TRANS_AMT_RT CHILD WHERE 1 = 1 <FILTER_CONDITION>\nUNION ALL \nSELECT CHILD.AWARD_NUMBER, \n0 AS TOTAL_EXPENSE_AMOUNT, 0 AS COMMITTED_AMOUNT, CHILD.AMOUNT_IN_FMA_CURRENCY AS TOTAL_REVENUE_AMOUNT \nFROM AWARD_REVENUE_TRANSACTIONS CHILD WHERE CHILD.ACTUAL_OR_COMMITTED_FLAG = \'R\' <FILTER_CONDITION> ) TAB GROUP BY TAB.AWARD_NUMBER ) AS T2 ON T1.AWARD_NUMBER = T2.AWARD_NUMBER ) CHILD ON MASTER_DATA.AWARD_NUMBER = CHILD.AWARD_NUMBER','2024-12-21 00:30:44','willsmith');

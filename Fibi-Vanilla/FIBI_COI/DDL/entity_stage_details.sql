

--
--  `entity_stage_details`
--

DROP TABLE IF EXISTS `entity_stage_details`;

CREATE TABLE `entity_stage_details` (
  `ENTITY_STAGE_DETAIL_ID` int(11) NOT NULL AUTO_INCREMENT,
  `GROUP_NUMBER` int(11) DEFAULT NULL,
  `BATCH_ID` int(11) DEFAULT NULL,
  `SRC_DATA_TYPE_CODE` varchar(10) DEFAULT NULL,
  `SRC_DATA_CODE` varchar(10) NOT NULL,
  `SRC_DATA_NAME` varchar(500) DEFAULT NULL,
  `SRC_DUNS_NUMBER` varchar(20) DEFAULT NULL,
  `SRC_CAGE_NUMBER` varchar(20) DEFAULT NULL,
  `SRC_UEI` varchar(20) DEFAULT NULL,
  `SRC_EMAIL_ADDRESS` varchar(255) DEFAULT NULL,
  `SRC_ADDRESS_LINE_1` varchar(255) DEFAULT NULL,
  `SRC_ADDRESS_LINE_2` varchar(255) DEFAULT NULL,
  `SRC_POSTAL_CODE` varchar(15) DEFAULT NULL,
  `SRC_STATE` varchar(30) DEFAULT NULL,
  `SRC_COUNTRY_CODE` varchar(3) DEFAULT NULL,
  `SRC_API_NAME` varchar(1000) DEFAULT NULL,
  `SRC_PHONE_NUMBER` varchar(30) DEFAULT NULL,
  `SRC_CITY` varchar(30) DEFAULT NULL,
  `SRC_WEBSITE` varchar(100) DEFAULT NULL,
  `SRC_ACRONYM` varchar(30) DEFAULT NULL,
  `SRC_RISK_ASSMT_DATE` date DEFAULT NULL,
  `SRC_SAM_EXPIRATION_DATE` date DEFAULT NULL,
  `SRC_HUMAN_SUB_ASSURANCE` varchar(50) DEFAULT NULL,
  `SRC_ANIMAL_WELFARE_ASSURANCE` varchar(50) DEFAULT NULL,
  `SRC_ANIMAL_ACCREDITATION` varchar(50) DEFAULT NULL,
  `INTEGRATION_STATUS_CODE` varchar(3) DEFAULT NULL,
  `API_REQUEST` text,
  `API_RESPONSE` text,
  `SELECTED_DUNS_NUMBERS` varchar(20) DEFAULT NULL,
  `CANDIDATE_MATCHED_QUANTITY` mediumint(9) DEFAULT NULL,
  `DUNS_MATCHED_RESULTS` json DEFAULT NULL,
  `HIGHEST_CONFIDENCE_CODE` tinyint(4) DEFAULT NULL,
  `HTTP_STATUS_CODE` varchar(255) DEFAULT NULL,
  `EXTERNAL_SYS_TRANSACTION_ID` varchar(50) DEFAULT NULL,
  `ERROR_CODE` varchar(10) DEFAULT NULL,
  `ERROR_MESSAGE` varchar(100) DEFAULT NULL,
  `ERROR_DETAILS` text,
  `CREATE_TIMESTAMP` datetime DEFAULT NULL,
  `CREATED_BY` varchar(40) DEFAULT NULL,
  `UPDATE_TIMESTAMP` datetime DEFAULT NULL,
  `UPDATED_BY` varchar(40) DEFAULT NULL,
  `IS_DUPLICATE_IN_SRC` varchar(1) DEFAULT NULL,
  `ENTITY_ID` int(11) DEFAULT NULL,
  `ADMIN_ACTION_CODE` int(11) DEFAULT NULL,
  `ADMIN_REVIEW_STATUS_CODE` int(11) DEFAULT NULL,
  `MATCH_STATUS_CODE` int(11) DEFAULT NULL,
  `Vector_val` blob,
  `ORIGINATING_ID` int(11) DEFAULT NULL,
  `IS_SYSTEM_DUPLICATE` varchar(1) DEFAULT NULL,
  `SRC_RISK_LEVEL_CODE` varchar(3) DEFAULT NULL,
  PRIMARY KEY (`ENTITY_STAGE_DETAIL_ID`),
  KEY `idx1_ENTITY_STAGE_DETAILS` (`ERROR_CODE`),
  KEY `idx12_ENTITY_STAGE_DETAILS` (`INTEGRATION_STATUS_CODE`),
  KEY `ENTITY_STAGE_DETAILS_FK1` (`BATCH_ID`),
  KEY `ENTITY_STAGE_DETAILS_FK3_idx` (`MATCH_STATUS_CODE`),
  KEY `ENTITY_STAGE_DETAILS_FK4_idx` (`ADMIN_REVIEW_STATUS_CODE`),
  KEY `ENTITY_STAGE_DETAILS_FK5_idx` (`ADMIN_ACTION_CODE`),
  CONSTRAINT `ENTITY_STAGE_DETAILS_FK1` FOREIGN KEY (`BATCH_ID`) REFERENCES `entity_stage_batch` (`BATCH_ID`),
  CONSTRAINT `ENTITY_STAGE_DETAILS_FK2` FOREIGN KEY (`INTEGRATION_STATUS_CODE`) REFERENCES `entity_stage_integration_status_type` (`INTEGRATION_STATUS_CODE`),
  CONSTRAINT `ENTITY_STAGE_DETAILS_FK3` FOREIGN KEY (`MATCH_STATUS_CODE`) REFERENCES `entity_stage_match_status_type` (`MATCH_STATUS_CODE`),
  CONSTRAINT `ENTITY_STAGE_DETAILS_FK4` FOREIGN KEY (`ADMIN_REVIEW_STATUS_CODE`) REFERENCES `entity_stage_admin_review_type` (`ADMIN_REVIEW_STATUS_CODE`),
  CONSTRAINT `ENTITY_STAGE_DETAILS_FK5` FOREIGN KEY (`ADMIN_ACTION_CODE`) REFERENCES `entity_stage_admin_action_type` (`ADMIN_ACTION_CODE`)
) ;




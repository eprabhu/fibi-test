DROP TABLE IF EXISTS `negotiation_attachment`;

CREATE TABLE `negotiation_attachment` (
  `NEGOTIATIONS_ATTACHMENT_ID` int(11) NOT NULL AUTO_INCREMENT,
  `NEGOTIATION_ACTIVITY_ID` int(11) DEFAULT NULL,
  `NEGOTIATION_ID` int(11) DEFAULT NULL,
  `ATTACHMENT_TYPE_CODE` varchar(3) DEFAULT NULL,
  `RESTRICTED` varchar(1) DEFAULT NULL,
  `FILE_NAME` varchar(300) DEFAULT NULL,
  `CONTENT_TYPE` varchar(200) DEFAULT NULL,
  `FILE_ID` varchar(36) DEFAULT NULL,
  `UPDATE_TIMESTAMP` datetime DEFAULT NULL,
  `UPDATE_USER` varchar(60) DEFAULT NULL,
  `DOCUMENT_ID` int(11) DEFAULT NULL,
  `DESCRIPTION` varchar(255) DEFAULT NULL,
  `DOCUMENT_STATUS_CODE` int(11) DEFAULT NULL,
  `NARRATIVE_STATUS_CODE` varchar(255) DEFAULT NULL,
  `VERSION_NUMBER` int(11) DEFAULT NULL,
  PRIMARY KEY (`NEGOTIATIONS_ATTACHMENT_ID`),
  KEY `NEGOTIATION_ATTACHMENT_FK1` (`ATTACHMENT_TYPE_CODE`),
  KEY `NEGOTIATION_ATTACHMENT_FK2` (`NEGOTIATION_ACTIVITY_ID`),
  KEY `NEGOTIATION_ATTACHMENT_FK3` (`FILE_ID`),
  KEY `NEGOTIATION_ATTACHMENT_FK4` (`NEGOTIATION_ID`),
  KEY `NEGOTIATION_ATTACHMENT_FK5` (`DOCUMENT_STATUS_CODE`),
  KEY `NEGOTIATION_ATTACHMENT_FK6` (`NARRATIVE_STATUS_CODE`),
  CONSTRAINT `NEGOTIATION_ATTACHMENT_FK1` FOREIGN KEY (`ATTACHMENT_TYPE_CODE`) REFERENCES `negotiation_attachment_type` (`ATTACHMENT_TYPE_CODE`),
  CONSTRAINT `NEGOTIATION_ATTACHMENT_FK2` FOREIGN KEY (`NEGOTIATION_ACTIVITY_ID`) REFERENCES `negotiation_activity` (`NEGOTIATION_ACTIVITY_ID`),
  CONSTRAINT `NEGOTIATION_ATTACHMENT_FK3` FOREIGN KEY (`FILE_ID`) REFERENCES `file_data` (`ID`),
  CONSTRAINT `NEGOTIATION_ATTACHMENT_FK4` FOREIGN KEY (`NEGOTIATION_ID`) REFERENCES `negotiation` (`NEGOTIATION_ID`),
  CONSTRAINT `NEGOTIATION_ATTACHMENT_FK5` FOREIGN KEY (`DOCUMENT_STATUS_CODE`) REFERENCES `document_status` (`DOCUMENT_STATUS_CODE`),
  CONSTRAINT `NEGOTIATION_ATTACHMENT_FK6` FOREIGN KEY (`NARRATIVE_STATUS_CODE`) REFERENCES `narrative_status` (`NARRATIVE_STATUS_CODE`)
) ;

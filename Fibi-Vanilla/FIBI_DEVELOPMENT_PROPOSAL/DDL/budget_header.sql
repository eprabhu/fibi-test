SET FOREIGN_KEY_CHECKS = 0;
DROP TABLE IF EXISTS `budget_header`;

CREATE TABLE `budget_header` (
  `BUDGET_HEADER_ID` int(11) NOT NULL AUTO_INCREMENT,
  `ANTICIPATED_TOTAL` decimal(15,2) DEFAULT NULL,
  `BUDGET_STATUS_CODE` varchar(3) DEFAULT NULL,
  `BUDGET_TYPE_CODE` varchar(3) DEFAULT NULL,
  `COMMENTS` varchar(4000) DEFAULT NULL,
  `CREATE_TIMESTAMP` datetime DEFAULT NULL,
  `CREATE_USER` varchar(60) DEFAULT NULL,
  `CREATE_USER_NAME` varchar(90) DEFAULT NULL,
  `END_DATE` datetime DEFAULT NULL,
  `IS_AUTO_CALC` varchar(1) DEFAULT NULL,
  `MODULE_ITEM_CODE` int(11) DEFAULT NULL,
  `MODULE_ITEM_KEY` varchar(30) DEFAULT NULL,
  `MODULE_SEQUENCE_NUMBER` int(11) DEFAULT NULL,
  `OBLIGATED_CHANGE` decimal(15,2) DEFAULT NULL,
  `OBLIGATED_TOTAL` decimal(15,2) DEFAULT NULL,
  `ON_OFF_CAMPUS_FLAG` varchar(1) DEFAULT NULL,
  `RATE_CLASS_CODE` varchar(3) DEFAULT NULL,
  `RATE_TYPE_CODE` varchar(3) DEFAULT NULL,
  `START_DATE` datetime DEFAULT NULL,
  `TOTAL_COST` decimal(15,2) DEFAULT NULL,
  `TOTAL_DIRECT_COST` decimal(15,2) DEFAULT NULL,
  `TOTAL_INDIRECT_COST` decimal(15,2) DEFAULT NULL,
  `UPDATE_TIMESTAMP` datetime DEFAULT NULL,
  `UPDATE_USER` varchar(60) DEFAULT NULL,
  `UPDATE_USER_NAME` varchar(90) DEFAULT NULL,
  `VERSION_NUMBER` int(11) DEFAULT NULL,
  `TOTAL_SUBCONTRACT_COST` decimal(15,2) DEFAULT NULL,
  `IS_FINAL_BUDGET` varchar(1) DEFAULT 'N',
  `PROPOSAL_ID` int(11) NOT NULL,
  `COST_SHARING_AMOUNT` decimal(15,2) DEFAULT NULL,
  `FINAL_VERSION_FLAG` varchar(255) DEFAULT NULL,
  `MODULAR_BUDGET_FLAG` varchar(255) DEFAULT NULL,
  `RESIDUAL_FUNDS` decimal(15,2) DEFAULT NULL,
  `SUBMIT_COST_SHARING_FLAG` varchar(255) DEFAULT NULL,
  `TOTAL_COST_LIMIT` decimal(15,2) DEFAULT NULL,
  `UNDERRECOVERY_AMOUNT` decimal(15,2) DEFAULT NULL,
  `UNDERRECOVERY_CLASS_CODE` varchar(255) DEFAULT NULL,
  `UNDERRECOVERY_TYPE_CODE` varchar(255) DEFAULT NULL,
  `IS_LATEST_VERSION` varchar(1) DEFAULT NULL,
  `IS_APPROVED_BUDGET` varchar(255) DEFAULT NULL,
  `BUDGET_TEMPLATE_TYPE_ID` int(11) DEFAULT NULL,
  `ON_CAMPUS_RATES` varchar(100) DEFAULT NULL,
  `OFF_CAMPUS_RATES` varchar(100) DEFAULT NULL,
  `COST_SHARE_TYPE_CODE` int(11) DEFAULT NULL,
  PRIMARY KEY (`BUDGET_HEADER_ID`),
  KEY `BUDGET_HEADER_FK1` (`BUDGET_STATUS_CODE`),
  KEY `BUDGET_HEADER_FK2` (`BUDGET_TYPE_CODE`),
  KEY `FKdcpmsga2j8d4vtbpcw0fyhv6o` (`RATE_CLASS_CODE`,`RATE_TYPE_CODE`),
  KEY `BUDGET_HEADER_FK4` (`PROPOSAL_ID`),
  KEY `FK4aqxi3edjo1453rb48uwcytah` (`UNDERRECOVERY_CLASS_CODE`,`UNDERRECOVERY_TYPE_CODE`),
  KEY `BUDGET_HEADER_FK6` (`COST_SHARE_TYPE_CODE`),
  CONSTRAINT `BUDGET_HEADER_FK1` FOREIGN KEY (`BUDGET_STATUS_CODE`) REFERENCES `budget_status` (`BUDGET_STATUS_CODE`),
  CONSTRAINT `BUDGET_HEADER_FK2` FOREIGN KEY (`BUDGET_TYPE_CODE`) REFERENCES `budget_type` (`BUDGET_TYPE_CODE`),
  CONSTRAINT `BUDGET_HEADER_FK3` FOREIGN KEY (`RATE_CLASS_CODE`, `RATE_TYPE_CODE`) REFERENCES `rate_type` (`RATE_CLASS_CODE`, `RATE_TYPE_CODE`),
  CONSTRAINT `BUDGET_HEADER_FK4` FOREIGN KEY (`PROPOSAL_ID`) REFERENCES `eps_proposal` (`PROPOSAL_ID`),
  CONSTRAINT `BUDGET_HEADER_FK5` FOREIGN KEY (`UNDERRECOVERY_CLASS_CODE`, `UNDERRECOVERY_TYPE_CODE`) REFERENCES `rate_type` (`RATE_CLASS_CODE`, `RATE_TYPE_CODE`),
  CONSTRAINT `BUDGET_HEADER_FK6` FOREIGN KEY (`COST_SHARE_TYPE_CODE`) REFERENCES `cost_sharing_type` (`COST_SHARE_TYPE_CODE`),
  CONSTRAINT `FK4aqxi3edjo1453rb48uwcytah` FOREIGN KEY (`UNDERRECOVERY_CLASS_CODE`, `UNDERRECOVERY_TYPE_CODE`) REFERENCES `rate_type` (`RATE_CLASS_CODE`, `RATE_TYPE_CODE`)
) ;
SET FOREIGN_KEY_CHECKS = 1;
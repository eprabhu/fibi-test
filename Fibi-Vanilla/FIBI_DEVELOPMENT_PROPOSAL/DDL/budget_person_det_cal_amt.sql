DROP TABLE IF EXISTS `budget_person_det_cal_amt`;

CREATE TABLE `budget_person_det_cal_amt` (
  `BUDGET_PERSON_DET_CAL_AMT_ID` int(11) NOT NULL,
  `BUDGET_PERSON_DETAIL_ID` int(11) DEFAULT NULL,
  `BUDGET_ID` int(11) DEFAULT NULL,
  `BUDGET_PERIOD` int(11) DEFAULT NULL,
  `BUDGET_PERIOD_NUMBER` int(11) DEFAULT NULL,
  `APPLY_RATE_FLAG` varchar(1) DEFAULT NULL,
  `CALCULATED_COST` decimal(15,2) DEFAULT NULL,
  `CALCULATED_COST_SHARING` decimal(15,2) DEFAULT NULL,
  `LINE_ITEM_NUMBER` int(11) DEFAULT NULL,
  `RATE_CLASS_CODE` varchar(3) DEFAULT NULL,
  `RATE_TYPE_CODE` varchar(3) DEFAULT NULL,
  `RATE_TYPE_DESCRIPTION` varchar(200) DEFAULT NULL,
  `APPLICABLE_RATE` decimal(15,2) DEFAULT NULL,
  `UPDATE_TIMESTAMP` datetime DEFAULT NULL,
  `UPDATE_USER` varchar(60) DEFAULT NULL,
  PRIMARY KEY (`BUDGET_PERSON_DET_CAL_AMT_ID`),
  KEY `BUDGET_PERSON_DET_CAL_AMT_FK1` (`BUDGET_PERSON_DETAIL_ID`),
  KEY `BUDGET_PERSON_DET_CAL_AMT_FK3` (`RATE_CLASS_CODE`,`RATE_TYPE_CODE`),
  CONSTRAINT `BUDGET_PERSON_DET_CAL_AMT_FK1` FOREIGN KEY (`BUDGET_PERSON_DETAIL_ID`) REFERENCES `budget_person_detail` (`BUDGET_PERSON_DETAIL_ID`),
  CONSTRAINT `BUDGET_PERSON_DET_CAL_AMT_FK2` FOREIGN KEY (`RATE_CLASS_CODE`) REFERENCES `rate_class` (`RATE_CLASS_CODE`),
  CONSTRAINT `BUDGET_PERSON_DET_CAL_AMT_FK3` FOREIGN KEY (`RATE_CLASS_CODE`, `RATE_TYPE_CODE`) REFERENCES `rate_type` (`RATE_CLASS_CODE`, `RATE_TYPE_CODE`)
) ;

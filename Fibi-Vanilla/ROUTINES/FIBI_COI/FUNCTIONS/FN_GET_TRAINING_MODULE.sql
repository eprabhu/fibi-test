

CREATE FUNCTION `FN_GET_TRAINING_MODULE`(LI_TRAINING_CODE DECIMAL(18,6)) RETURNS decimal(18,6)
    DETERMINISTIC
BEGIN

 DECLARE LI_MODULE_CODE  DECIMAL(18,6);

 DECLARE EXIT HANDLER FOR SQLEXCEPTION 
 BEGIN
	SET LI_MODULE_CODE = 0;
 END;
 
    SELECT T1.MODULE_CODE
    INTO  LI_MODULE_CODE
    FROM TRAINING_MODULES T1
    WHERE T1.TRAINING_CODE = LI_TRAINING_CODE;

/* IF LI_TRAINING_CODE in(15,14,17,23,24,25,26,27) THEN
        LI_MODULE_CODE =7;
     ELSIF LI_TRAINING_CODE in(40,41,42,43,44,45,46,47,48,49,50,51) THEN
        LI_MODULE_CODE =100;
     END IF;
*/
    RETURN LI_MODULE_CODE;

  END
